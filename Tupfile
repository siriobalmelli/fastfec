#include ffec.tup
include ffec.tup

# local build flags, not propagated to anyone else
CFLAGS_LOCAL = 

LIB_LOCAL = ffec.c ffec_int.c ffec_matrix.c mfec.c nfec.c
LIB_NAME = ffec 
# compile library objects
: foreach $(LIB_LOCAL) |> !cc |> {libs}
# build the library
: {libs} |> !lib |>

# build test files
EXE_LOCAL = ffec_test.c mfec_test.c
: foreach $(EXE_LOCAL) |> !cc |> {exes}
: foreach {exes} |> !exe |>

# testing structure
: run_tests.sh |> !tup_preserve |>
: ffec_test_run.sh |> !tup_preserve |> 
